<div class="flex justify-center py-7 lg:py-10 text-gray-600 text-2xl lg:text-4xl font-semibold"><i class="fas fa-crown text-yellow-300"></i>ランキング結果<i class="fas fa-crown text-yellow-300"></i></div>
<% if @calculations.present? %>
  <div class="modal-overlay"></div>
  <div id="modal-area"></div>
  <div class="grid lg:grid-cols-2 grid-cols-1 pr-3">
    <section class="container mx-auto font-mono">
      <div class="w-full mb-8">
        <div class="w-full overflow-x-auto flex justify-center">
          <table class="w-5/6 text-center">
            <thead class="bg-yellow-200">
              <tr>
                <th scope="col" class="py-3 px-6 text-xs lg:text-xl font-medium tracking-wider text-gray-700 dark:text-gray-400">
                    順位
                </th>
                <th scope="col" class="py-3 px-6 text-xs lg:text-xl font-medium tracking-wider text-gray-700 dark:text-gray-400">
                    欲しいもの
                </th>
              </tr>
            </thead>
            <tbody>
              <div class="">
                <%= render @calculations %>
              </div>
            </tbody>
          </table>
        </div>
      </div>
    </section>
    <div class="hidden lg:block bg-white shadow-lg pl-5 h-1/2 w-full overflow-hidden">
      <p class="text-center text-md lg:text-xl underline pt-5">上位３件の計算データ</p>
      <div class="w-full">
        <canvas class="py-10 chartjs-render-monitor" id="index_chartRadar" style="display: block; height: 850px; width: 1000px;"></canvas>
      </div>
    </div>
  </div>
<% else %>
  <p>欲しいものが登録されていません。</p>
<% end %>

<div class="flex justify-center grid grid-col-1 py-5">
  <p class="text-center text-md lg:text-xl">ユーザー登録すると今登録したアイテムを引き継いで使うことができます。</p>
  <div class="flex justify-center py-7">
    <%= button_to "アカウント登録はこちら", new_user_path, method: :get, class: "text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-red-300 dark:focus:ring-red-800 shadow-lg shadow-red-500/50 dark:shadow-lg dark:shadow-red-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2" %>
  </div>
</div>

<!-- Chart radar -->
<script>
  const index_dataRadar = {
    labels: [
      "いつから欲しい？",
      "欲しい度",
      "いつまでに欲しい？",
      "値段",
    ],
    datasets: [
      {
        label: gon.calculations_name[0],
        data: [
          gon.calculations[0].start_value,
          gon.calculations[0].degree_value,
          gon.calculations[0].finish_value,
          gon.calculations[0].price_value
        ],
        fill: true,
        backgroundColor: "rgba(255,215,0, 0.3)",
        borderColor: "rgb(255,215,0)",
        pointBackgroundColor: "rgb(255,215,0)",
        pointBorderColor: "#fff",
        pointHoverBackgroundColor: "#fff",
        pointHoverBorderColor: "rgb(255,215,0)",
      },
      {
        label: gon.calculations_name[1],
        data: [
          gon.calculations[1].start_value,
          gon.calculations[1].degree_value,
          gon.calculations[1].finish_value,
          gon.calculations[1].price_value
        ],
        fill: true,
        backgroundColor: "rgba(192,192,192, 0.3)",
        borderColor: "rgb(192,192,192)",
        pointBackgroundColor: "rgb(192,192,192)",
        pointBorderColor: "#fff",
        pointHoverBackgroundColor: "#fff",
        pointHoverBorderColor: "rgb(192,192,192)",
      },
      {
        label: gon.calculations_name[2],
        data: [
          gon.calculations[2].start_value,
          gon.calculations[2].degree_value,
          gon.calculations[2].finish_value,
          gon.calculations[2].price_value
        ],
        fill: true,
        backgroundColor: "rgba(160,82,45, 0.3)",
        borderColor: "rgb(160,82,45)",
        pointBackgroundColor: "rgb(160,82,45)",
        pointBorderColor: "#fff",
        pointHoverBackgroundColor: "#fff",
        pointHoverBorderColor: "rgb(160,82,45)",
      }
    ],
  };

  const index_configRadarChart = {
    type: "radar",
    data: index_dataRadar,
    options: {
      scale: {
        ticks: {
          suggestedMin: 0,
          suggestedMax: 10,
          stepSize: 2,
          fontSize: 20,
          fontColor: '#000'
        },
        pointLabels: {
          fontSize: 25,
          fontColor: '#000'
        }
      },
      legend: {
        display: false
      }
    }
  };

  var chartBar = new Chart(
    document.getElementById("index_chartRadar"),
    index_configRadarChart
  );
</script>
