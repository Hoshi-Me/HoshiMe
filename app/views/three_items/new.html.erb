<% content_for(:title, t('.title')) %>

<div class="flex items-center min-h-screen dark:bg-gray-900">
  <div class="container mx-auto">
    <div class="mb-10">
      <div class="text-center">
        <h1 class="my-3 text-3xl font-semibold text-gray-700 dark:text-gray-200"><%= t('.title') %></h1>
      </div>
      <p class="text-center text-gray-700 pt-3">今欲しいと思っているものを３つ入力してください。</p>
      <div class="mb-4">
        <%= form_with model: @form, url: three_items_path, local: true do |form| %>
          <div class="grid grid-cols-1 lg:grid-cols-3">
            <%= form.fields_for :items do |f| %>
              <div class="px-5">
                <div class="mb-6">
                  <%= f.label :name, class: "mt-10 block mb-2 text-sm text-gray-600 dark:text-gray-400" %>
                  <%= f.text_field :name, placeholder: "商品名", class: "w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" %>
                </div>
                <div class="mb-10">
                  <%= f.label :degree, class: "block mb-2 text-sm text-gray-600 dark:text-gray-400" %>
                  <%= f.range_field :degree, min:"0", max:"100" %>
                </div>
                <div class="mb-10">
                  <%= f.label :start_date, class: "block mb-2 text-sm text-gray-600 dark:text-gray-400" %>
                  <%= f.range_field :start_date, min:"0", max:"360" %>
                </div>
                <div class="mb-10">
                  <%= f.label :finish_date, class: "block mb-2 text-sm text-gray-600 dark:text-gray-400" %>
                  <%= f.range_field :finish_date, min:"0", max:"360" %>
                </div>
                <div class="mb-10">
                  <%= f.label :price, class: "block mb-2 text-sm text-gray-600 dark:text-gray-400" %>
                  <%= f.range_field :price, min:"0", max:"100000" %>
                </div>
              </div>
            <% end %>
          </div>
          <div class="mb-6 flex justify-center">
            <%= form.submit class: "cursor-pointer mt-8 w-1/2 lg:w-1/4 px-1 py-2 lg:text-xl text-white bg-yellow-500 rounded-md focus:bg-yellow-600 focus:outline-none" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<script>
  $('#form_item_collection_items_attributes_0_degree, #form_item_collection_items_attributes_1_degree, #form_item_collection_items_attributes_2_degree').jRange({
    from: 0,
    to: 100,
    step: 10,
    format: '%s %',
    scale: [0,10, 20, 30, 40, 50, 60, 70, 80, 90, "100%"],
    width: '100%',
    theme: "theme-blue",
    showLabels: false,
    onstatechange: function(){
      $("#item_degree").trigger('change');
    }
  });
  $('#form_item_collection_items_attributes_0_start_date, #form_item_collection_items_attributes_1_start_date, #form_item_collection_items_attributes_2_start_date').jRange({
    from: 0,
    to: 360,
    step: 10,
    scale: ["今日", 1,2, 3, 4, 5, 6, 7, 8, 9, 10, 11, "12ヶ月前"],
    width: '100%',
    theme: "theme-blue",
    showLabels: false,
    onstatechange: function(){
      $("#item_start_date").trigger('change');
    }
  });
  $('#form_item_collection_items_attributes_0_finish_date, #form_item_collection_items_attributes_1_finish_date, #form_item_collection_items_attributes_2_finish_date').jRange({
    from: 0,
    to: 360,
    step: 10,
    scale: ["今日", 1,2, 3, 4, 5, 6, 7, 8, 9, 10, 11, "12ヶ月後"],
    width: '100%',
    theme: "theme-blue",
    showLabels: false,
    onstatechange: function(){
      $("#item_finish_date").trigger('change');
    }
  });
  $('#form_item_collection_items_attributes_0_price, #form_item_collection_items_attributes_1_price, #form_item_collection_items_attributes_2_price').jRange({
    from: 0,
    to: 100000,
    step: 1000,
    format: '%s 万円',
    scale: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, "10万円"],
    width: '100%',
    theme: "theme-blue",
    showLabels: false,
    onstatechange: function(){
      $("#item_price").trigger('change');
    }
  });
</script>
